function calculateMousePos(e){var l=canvas.getBoundingClientRect(),a=document.documentElement,n=e.clientX-l.left-a.scrollLeft,t=e.clientY-l.top-a.scrollTop;return{x:n,y:t}}function handleMouseClick(e){showingWinScreen&&(player1Score=0,player2Score=0,showingWinScreen=!1)}function ballReset(){(player1Score>=WINNING_SCORE||player2Score>=WINNING_SCORE)&&(showingWinScreen=!0),ballSpeedX=-ballSpeedX,ballX=canvas.width/2,ballY=canvas.height/2}function computerMovement(){var e=paddle2Y+50;ballY-35>e?paddle2Y+=6:e>ballY+35&&(paddle2Y-=6)}function moveEverything(){if(!showingWinScreen){if(computerMovement(),ballX+=ballSpeedX,ballY+=ballSpeedY,0>ballX)if(ballY>paddle1Y&&paddle1Y+PADDLE_HEIGHT>ballY){ballSpeedX=-ballSpeedX;var e=ballY-(paddle1Y+50);ballSpeedY=.35*e}else player2Score++,ballReset();if(ballX>canvas.width)if(ballY>paddle2Y&&paddle2Y+PADDLE_HEIGHT>ballY){ballSpeedX=-ballSpeedX;var e=ballY-(paddle2Y+50);ballSpeedY=.35*e}else player1Score++,ballReset();0>ballY&&(ballSpeedY=-ballSpeedY),ballY>canvas.height&&(ballSpeedY=-ballSpeedY)}}function drawNet(){for(var e=0;e<canvas.height;e+=40)colorRect(canvas.width/2-1,e,2,20,"white")}function drawEverything(){return colorRect(0,0,canvas.width,canvas.height,"black"),showingWinScreen?(canvasContext.fillStyle="white",player1Score>=WINNING_SCORE?canvasContext.fillText("You Won !!!",350,200):player2Score>=WINNING_SCORE&&canvasContext.fillText("AI Player Won",350,200),void canvasContext.fillText("click to continue",350,500)):(drawNet(),colorRect(0,paddle1Y,PADDLE_THICKNESS,PADDLE_HEIGHT,"white"),colorRect(canvas.width-PADDLE_THICKNESS,paddle2Y,PADDLE_THICKNESS,PADDLE_HEIGHT,"white"),colorCircle(ballX,ballY,10,"white"),canvasContext.fillText(player1Score,100,100),void canvasContext.fillText(player2Score,canvas.width-100,100))}function colorCircle(e,l,a,n){canvasContext.fillStyle=n,canvasContext.beginPath(),canvasContext.arc(e,l,a,0,2*Math.PI,!0),canvasContext.fill()}function colorRect(e,l,a,n,t){canvasContext.fillStyle=t,canvasContext.fillRect(e,l,a,n)}var canvas,canvasContext,ballX=50,ballY=50,ballSpeedX=10,ballSpeedY=4,player1Score=0,player2Score=0;const WINNING_SCORE=3;var showingWinScreen=!1,paddle1Y=250,paddle2Y=250;const PADDLE_THICKNESS=10,PADDLE_HEIGHT=100;window.onload=function(){canvas=document.getElementById("gameCanvas"),canvasContext=canvas.getContext("2d");var e=30;setInterval(function(){moveEverything(),drawEverything()},1e3/e),canvas.addEventListener("mousedown",handleMouseClick),canvas.addEventListener("mousemove",function(e){var l=calculateMousePos(e);paddle1Y=l.y-50})};